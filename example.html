<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>Diff Cam Engine Example</title>

		<style>
			body {
				font: 1em/1 sans-serif;
			}
			video, canvas {
				width: 320px;
				height: 240px;
				border: 1px solid #000;
			}

			canvas {
				image-rendering: pixelated;
			}
		</style>
	</head>
	<body>
		<h1>Live Video<h1>
		<video id="video"></video>

		<h1>Motion Heatmap</h1>
		<canvas id="motion"></canvas>

		<h1>Score: <span id="score">?</span></h1>

		<script src="https://webrtc.github.io/adapter/adapter-1.0.7.js"></script>
		<script src="diff-cam-engine.js"></script>

		<script>
			var video = document.getElementById('video');
			var canvas = document.getElementById('motion');
			var score = document.getElementById('score');

			function initSuccess() {
				DiffCamEngine.start();
			}

			function initError() {
				alert('Something went wrong.');
			}

			function capture(payload) {
				score.textContent = payload.score;
			}

			DiffCamEngine.init({
				video: video,
				motionCanvas: canvas,
				initSuccessCallback: initSuccess,
				initErrorCallback: initError,
				captureCallback: capture
			});
		</script>
	</body>
</html>
